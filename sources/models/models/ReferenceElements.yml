# Converstion from ReferenceElements.wsd
# Created by: Vasil Buraliev (vasil.buraliev@vbu.mk)
# Create date: 25/09/2019

# `text` is what you want to show the link as.
# (i.e., the `content` of <xx>my link text</xx>)
title: Reference Elements
classes:
  BasicElement:
    definition: |

    attributes:
      contribMetadata:
        definition: 
        type: ContributionElementMetadata
        cardinality:
          min: 0
          max: "*"
  ReferenceElement:
    definition: |

    attributes:
      type:
        definition: 
        type: ReferenceFormat
      text:
        definition: 
        type: BasicElement
        cardinality:
          min: 0
          max: 1
      alt:
        definition: 
        type: String
        cardinality:
          min: 0
          max: 1
    relations:
      - target: BasicElement
        relationship:
          target:
            type: inheritance
        direction: up
  Citation:
    definition: |

    attributes:
      type:
        definition: 
        type: Bibliography
  ReferenceToIdElement:
    definition: |

    attributes:
      target:
        definition: 
        type: IdElement
    relations:
      - target: ReferenceElement
        relationship:
          target:
            type: inheritance
        direction: up
  ReferenceToLinkElement:
    definition: |

    attributes:
      target:
        definition: 
        type: Uri
    relations:
      - target: ReferenceElement
        relationship:
          target:
            type: inheritance
        direction: up
  ReferenceToCitationElement:
    definition: |

    attributes:
      normative:
        definition: 
        type: Boolean
        cardinality:
          min: 0
          max: 1
      citeAs:
        definition: 
        type: TextElement
        cardinality:
          min: 0
          max: "*"
    relations:
      - target: ReferenceElement
        relationship:
          target:
            type: inheritance
        direction: up
      - target: Citation
        relationship:
          target:
            type: inheritance
        direction: left
  # `ReferenceToldWithParagraphElement` is just a Footnote or a CalloutAnnotation with the proper ReferenceFormat
  ReferenceToldWithParagraphElement:
    definition: |

    attributes:
      content:
        definition: 
        type: ParagraphBlock
        cardinality:
          min: 1
          max: "*"
    relations:
      - target: ReferenceToIdElement
        relationship:
          target:
            type: inheritance
        direction: up
  # `Callout` is a ReferenceToIdElement with 
  # type understood to be callout, and with text constrained to be a TextElement
  Callout:
    definition: |

    attributes:
      type:
        definition: 
        type: "callout"
      text:
        definition: 
        type: TextElement
    relations:
      - target: ReferenceToIdElement
        relationship:
          target:
            type: inheritance
        direction: up
  # `Footnote` is a ReferenceToldWithParagraphElement,
  # with type understood to be footnote,
  # and target eliminated since the target text identified is the content attribute
  Footnote:
    definition: |

    attributes:
      type:
        definition: 
        type: "footnote"
    relations:
      - target: ReferenceToldWithParagraphElement
        relationship:
          target:
            type: inheritance
        direction: up